
<html>
  <head>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <script src="https://unpkg.com/@c-frame/aframe-physics-system@4.2.2/dist/aframe-physics-system.min.js"></script>
       <script>
      // Composant pour activer la gravité après le chargement du modèle
      AFRAME.registerComponent('enable-physics-on-load', {
        init: function () {
          const el = this.el;
          el.addEventListener('model-loaded', () => {
            el.setAttribute('dynamic-body', 'shape: box; mass: 1');
          });
        }
      });
    </script>
  </head>







  <body>
    <a-scene physics>
      <img id="stars" src="./assets/images/nuit_étoilé.jpg">
      <a-asset-item id="kodoma" src="./assets/3Dmodels_aframe/3Dmodels/exp5_glb_3Dscan_barraco_statue/kodoma_wobble/scene.gltf"></a-asset-item>

      <a-entity gltf-model="#kodoma" position="0 3 -2" scale="0.25 0.25 0.25" rotation="0 90 0" enable-physics-on-load></a-entity>
      <a-entity gltf-model="#kodoma" position="-0.5 3 -1" scale="0.35 0.35 0.35" rotation="0 180 0" enable-physics-on-load></a-entity>
      <a-entity gltf-model="#kodoma" position="1 3 -1.5" scale="0.2 0.2 0.2" rotation="0 45 0" enable-physics-on-load></a-entity>
      <a-entity gltf-model="#kodoma" position="-1.2 3 -2.5" scale="0.28 0.28 0.28" rotation="0 60 0" enable-physics-on-load></a-entity>
      <a-entity gltf-model="#kodoma" position="0 3 -3.5" scale="0.3 0.3 0.3" rotation="0 120 0" enable-physics-on-load></a-entity>
      <a-entity gltf-model="#kodoma" position="0.8 3 -2.2" scale="0.32 0.32 0.32" rotation="0 200 0" enable-physics-on-load></a-entity>
      <a-entity gltf-model="#kodoma" position="-0.7 3 -3.2" scale="0.25 0.25 0.25" rotation="0 270 0" enable-physics-on-load></a-entity>
      <a-entity gltf-model="#kodoma" position="0.3 3 -1.8" scale="0.3 0.3 0.3" rotation="0 330 0" enable-physics-on-load></a-entity>
      <a-entity gltf-model="#kodoma" position="-0.3 3 -2" scale="0.22 0.22 0.22" rotation="0 15 0" enable-physics-on-load></a-entity>
      <a-entity gltf-model="#kodoma" position="0 3 -3" scale="0.18 0.18 0.18" rotation="0 60 0" enable-physics-on-load></a-entity>

      <!-- Plan statique -->
      <a-plane position="0 0 -2" rotation="-90 0 0" width="3" height="3" color="#7BC8A4" static-body></a-plane>
      <a-sky src="./assets/images/nuit_étoilé.jpg"></a-sky>
    </a-scene>
  </body>
</html>


